!function(e,t){"use strict";angular.module("ja-zconnect-widget-user",["adf.provider","ngZconnected","ngJoms"]).config(["dashboardProvider",function(e){var t="{widgetsPath}/ja-zconnect-widget-user/src/templates/",n={resolve:{currentUser:["userService",function(e){return e.getCurrentUser()}]}};e.widget("profile",angular.extend({title:"Personal Information",description:"personal information widget",templateUrl:t+"profile/view.html",controller:"ProfileCtrl",controllerAs:"profile",edit:{templateUrl:t+"profile/edit.html"}},n)).widget("strength",angular.extend({title:"Profile Strength",description:"profile strength widget",templateUrl:t+"profile/strength.html",controller:"ProfileCtrl",controllerAs:"profile"},n)).widget("contact",angular.extend({title:"Contact Information",description:"contact information widget",templateUrl:t+"profile/contact.html",controller:"ProfileCtrl",controllerAs:"profile",edit:{templateUrl:t+"profile/edit.html"}},n)).widget("view",angular.extend({title:"Profile Total Views",description:"profile total views widget",templateUrl:t+"profile/views.html",controller:"ProfileCtrl",controllerAs:"profile",edit:{templateUrl:t+"profile/edit.html"}},n)).widget("account",angular.extend({title:"General Account Information",description:"account information widget",templateUrl:t+"profile/account.html",controller:"ProfileCtrl",controllerAs:"profile"},n)).widget("cfriend",angular.extend({title:"Total Zconnections",description:"total zconnections widget",templateUrl:t+"znetwork/cfriend.html",controller:"ZconnectionsCtrl",controllerAs:"znetwork"},n)).widget("friends",angular.extend({title:"Zconnections",description:"zconnections widget",templateUrl:t+"znetwork/friends.html",controller:"ZconnectionsCtrl",controllerAs:"znetwork"},n)).widget("zconnectionlist",angular.extend({title:"Add Contacts",description:"contacts widget",templateUrl:t+"znetwork/friends.html",controller:"ZconnectionsListCtrl",controllerAs:"suggestedUsers"},n))}]),angular.module("ja-zconnect-widget-user").run(["$templateCache",function(e){e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/account.html","<div>Username : <span data-ng-bind=profile.currentUser.email></span></div><div>Password : <span>******************</span> <a href=#>Edit</a></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/contact.html","<div><span data-ng-bind=profile.currentUser.email></span></div><div><span data-ng-bind=profile.currentUser.address.address_1></span> <span data-ng-bind=profile.currentUser.address.address_2></span> <span data-ng-bind=profile.currentUser.address.country></span> <span data-ng-bind=profile.currentUser.address.postal_zip></span></div><div>+<span data-ng-bind=profile.contacts.country_code></span><span data-ng-bind=profile.contacts.phone_number></span></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/edit.html",'<form role=form><div class=form-group><label for=sample>Sample</label> <input type=text class=form-control id=sample ng-model=config.sample placeholder="Enter sample"></div></form>'),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/strength.html","<div><center><h1 data-ng-show=profile.strength.percentage data-ng-bind=\"(profile.strength.percentage*100).toFixed(1) + ' %'\"></h1><center></center></center></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/view.html","<div><img ng-src={{profile.currentUser.avatar}}></div><div><span data-ng-bind=profile.currentUser.first_name></span> <span data-ng-bind=profile.currentUser.last_name></span></div><div><span data-ng-bind=profile.jobseekerInfo.quote></span></div><div><span data-ng-bind=\"(profile.currentUser.gender==='M') ? 'Male' : 'Female'\"></span></div><div><span data-ng-bind=profile.currentUser.birthdate></span></div><div><span data-ng-bind=profile.jobseekerInfo.nationality></span></div><div><span data-ng-bind=profile.jobseekerInfo.civil_status></span></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/profile/views.html","<div><center><h1 data-ng-show=profile.views.total data-ng-bind=profile.views.total></h1><center></center></center></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/znetwork/cfriend.html","<div><center><h1 data-ng-show=znetwork.total data-ng-bind=znetwork.total></h1><center></center></center></div>"),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/znetwork/friends.html",'<div><ul><li data-ng-repeat="friend in znetwork.znetwork"><span><img ng-src={{friend.avatar}}></span> <span data-ng-bind="friend.first_name + \' \' + friend.last_name"></span></li></ul><uib-pagination total-items=znetwork.total ng-model=znetwork.page max-size=5 class=pagination-sm boundary-link-numbers=true data-ng-change="znetwork.paginationChanged(znetwork.currentUser, znetwork.limit, znetwork.page)"></uib-pagination></div>'),e.put("{widgetsPath}/ja-zconnect-widget-user/src/templates/znetwork/userlist.html",'<div id=suggestedUsers data-ng-controller="SuggestedPeopleCtrl as vm" data-ng-init=vm.init()><div class="col-sm-12 col-xs-12"><div class=row><ul class=suggested_contacts><li data-ng-if="vm.suggestedUsers.length > 0" data-ng-repeat="user in vm.suggestedUsers | limitTo: vm.limit"><div class="col-sm-12 col-xs-12"><div class=row><div class="col-lg-2 col-sm-2 col-xs-2"><div class=row><a data-ng-href={{user.profile_url}}><img data-ng-src={{user.avatar}}></a></div></div><div class="col-lg-10 col-sm-10 col-xs-10"><div class=row><a data-ng-href={{user.profile_url}}><p class=contact_name data-ng-bind="user.first_name + \' \' + user.last_name"></p></a><div class="col-sm-12 col-xs-12"><div class=row><a href=javascript: data-ng-click="vm.addUser(user.user_id, $index)" class=connect_skip>Connect</a> <a href=javascript: data-ng-click=vm.skipUser($index) class=connect_skip>Skip</a></div></div></div></div></div></div></li><li style="background:none; padding:0 !important; margin:0; border:none;" data-ng-if="vm.suggestedUsers.length==0"><p class=no_suggestion_p>No suggestions at the moment.</p></li></ul></div></div></div>')}]),angular.module("ja-zconnect-widget-user").controller("ZconnectionsListCtrl",["currentUser","$q","ngZconnected","userService","ngJoms",function(e,t,n,r,i){var o=this;o.suggestedUsers=[],o.page=1,o.limit=3,o.total=0,o.totalFetched=0,o.init=function(){o.getSuggestedPeople(o.limit,o.page)},o.getSuggestedPeople=function(e,t){r.getCurrentUserSuggestedUsers(e,t).then(function(e){o.totalFetched+=e.data.length,Array.prototype.push.apply(o.suggestedUsers,e.data),o.total=e.meta.total,n._DEBUG&&console.log(e)},function(e){n._DEBUG&&console.log(e)})},o.skipUser=function(e){o.suggestedUsers.splice(e,1),o.suggestedUsers.length<o.limit&&o.totalFetched<o.total&&o.getSuggestedPeople(o.limit,o.page=o.page+1)},o.addUser=function(e,t){i.api.friendAdd(e),o.skipUser(t)}}]),angular.element(document).ready(function(){angular.bootstrap(document.getElementById("suggestedUsers"),["ja-zconnect-widget-user"])}),angular.module("ja-zconnect-widget-user").controller("ZconnectionsCtrl",["currentUser","$q","ngZconnected","userService",function(e,t,n,r){var i=this;i.currentUser=e,i.znetwork={},i.total=0,i.limit=10,i.page=1,i.paginationChanged=function(e,o,s){t.when(r.getUserFriends(e.user_id,o,s)).then(function(e){n._DEBUG&&console.log(e),i.znetwork=e.data,i.total=e.meta.total},function(e){n._DEBUG&&console.log(e)})},i.paginationChanged(i.currentUser,i.limit,i.page)}]),angular.module("ja-zconnect-widget-user").controller("ProfileCtrl",["currentUser","$q","ngZconnected","profileService","jobService",function(e,t,n,r,i){var o=this;o.currentUser=e,o.jobseekerInfo={},o.contacts={},o.email={},o.address={},o.strength={},o.views={},t.when(r.jobseekerInfo.get(o.currentUser.user_id)).then(function(e){return n._DEBUG&&console.log(e),o.jobseekerInfo=e,r.userEmail.get(o.currentUser.user_id,o.currentUser.extra_properties.primary_email)}).then(function(e){n._DEBUG&&console.log(e),o.email=e}).then(function(){return r.userContactNumber.get(o.currentUser.user_id,o.currentUser.extra_properties.primary_contact_number)}).then(function(e){n._DEBUG&&console.log(e),o.contacts=e},function(e){n._DEBUG&&console.log(e)}).then(function(){return r.profileStrength.get(o.currentUser.user_id)}).then(function(e){n._DEBUG&&console.log(e),o.strength=e},function(e){n._DEBUG&&console.log(e)}).then(function(){return r.profileViews(o.currentUser.user_id)}).then(function(e){n._DEBUG&&console.log(e),o.views=e},function(e){n._DEBUG&&console.log(e)}),i.user.getApplied(o.currentUser.user_id).then(function(e){n._DEBUG&&console.log(e),o.appliedjobs},function(e){n._DEBUG&&console.log(e)})}])}(window);